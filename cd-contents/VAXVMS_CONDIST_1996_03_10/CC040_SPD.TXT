 






Software
Product
Description

_____________________________________________________________________________

日本語DEC C Version4.0 for OpenVMS VAX                           SPD 53.90.00
   ソフトウェア仕様書

仕様書の包含する範囲

本書は日本語DEC C for OpenVMS VAX (以下，日本語DEC Cと記す)のソフトウェア機能
仕様を述べたものです。

1  概要

日本語DEC CはANSI準拠のCプログラミング言語をDEC独自に拡張したものです。日本語
DEC CのコンパイラはOpenVMS VAX (以下，OpenVMSと記す)オペレーティング・システ
ムで実行でき，最適化された再配置可能なコードを生成します。

日本語DEC Cはネイティブ・モードのVAX言語製品であり，OpenVMS VAX共通言語環境に
統合されています。日本語DEC Cで書かれたプログラムには，すべてのOpenVMSシステ
ム・サービスが使用できます。また，日本語DEC Cプログラムは，他のVAX言語で書か
れたモジュールを関数として起動できます。

日本語DEC Cは，順編成ファイル，相対ファイル，および索引ファイルといったファ
イル編成とそれに関連したアクセス方法を含むOpenVMS VAX RMS (Record Management
Service)をサポートします。また，多くのC言語プログラムに共通のストリーム・ファ
イル・アクセス方法もサポートします。

日本語DEC Cは，ANSI Cに準拠しているかどうかを広範囲にわたってチェックする機能
を備えており，DEC SCA (Source Code Analyzer) のきめ細かな機能をサポートしま
す。このDEC SCAを使用すると，プログラム環境全般にわたる関数の使用法に一貫性が
あるかどうかをチェックできます。また，OpenVMS VAX Debugで使用するために必要
な完全なデバッグ・レコードと履歴レコードも作成します。このデバッガを使用する
と，ブレークポイントの設定，ユーザ変数の内容の検査と変更，実行プログラムの条
件付き停止または続行を指示できます。


                                    DIGITAL                         1994年7月

                                                                  AE-Q8Z8A-TE

 


 日本語DEC C Version4.0 for OpenVMS VAX                           SPD 53.90.00
 ソフトウェア仕様書


1.1  日本語DEC Cの機能

o  4つのC言語をそれぞれサポートするための専用のコンパイル・モード

   -  ANSI標準に従ってコンパイルするANSI厳守モード。

   -  ANSI標準に従ってコンパイルするが，DEC独自の拡張機能も受け入れる準ANSIモ
      ード。

   -  VAX C拡張をサポートするVAX Cモード。

   -  共通のC(pcc)拡張をサポートするコモン・モード。

o  数値プログラミング，非数値プログラミング，システム・プログラミング用のデー
   タ型

   -  バイト，ワード，ロングワード，および符号付き整数と符号なし整数。

   -  単精度と倍精度の浮動小数点数。D浮動小数点数またはG浮動小数点数は，倍精
      度形式で表すことができる。

   -  数値定数を関数呼出しで参照渡しできる。

o  記憶域の割付けに必要な要素

   -  プログラム・モジュール間でデータを共有するためのキーワード(globalref，
      globaldef，globalvalue)。

   -  データ属性とデータ配置を制御するためのキーワード(readonly，noshare，
      psectの名前指定)。

   -  データ・オブジェクトの境界調整を指定するためのキーワード(_align)。

   -  外部モデルと構造体メンバの境界調整を制御するプラグマ。

o  コンパイルの前処理段階だけを実行するオプション

o  コンパイラ・オプションを制御するプラグマ

o  分割コンパイル機能と結合コンパイル機能

o  コンパイラが作成するリスト・ファイル。ファイルに含まれるオプションは次のと
   おり。

   -  機械語コード

   -  マクロ展開

                                       2

 


日本語DEC C Version4.0 for OpenVMS VAX                           SPD 53.90.00
ソフトウェア仕様書


   -  コンパイル統計情報

o  ソース・プログラム中で日本語を使用できる部分

   -  文字列リテラル

   -  ワイド文字列リテラル

   -  ワイド文字定数

   -  コメント

o  組込み関数により可能となるVAX機械語命令のサブセットへのアクセス

o  OpenVMS VAX共通言語環境への統合

   -  OpenVMS VAX Debugをサポートするためのデバッグ・レコードおよび履歴レコー
      ドの生成。

   -  OpenVMS VAX Calling Standardへの準拠。

   -  汎用ルーチン用Common Run-Time Libraryへのアクセスと複数言語環境のサポー
      ト。

   -  Common Run-Time Libraryの直接呼出しによる，OpenVMS VAX RMSのデータ管理
      ファシリティへのアクセス。

   -  DEC LSE (Language-Sensitive Editor)へのエラー診断とDEC SCA (Source Code
      Analyzer)構成要素の相互参照情報の提供。

o  OpenVMSの下での性能を上げるための生成コードのグローバルおよびローカルな最
   適化機能の強化

o  最適化の範囲を超えた広範囲にわたる制御

o  Curses画面操作パッケージへのインターフェイス

o  インストレーション・キットのDEC C++ for OpenVMS VAXとの同期

                                       3

 


 日本語DEC C Version4.0 for OpenVMS VAX                           SPD 53.90.00
 ソフトウェア仕様書


1.2  他のC言語環境との適合性

日本語DEC Cは，ANSI X3.159-1989プログラミング言語C(ISO 9899:1990[1992])に準拠
しています。4つのモード (ANSI厳守適合モード，準ANSI適合モード(ANSIにDEC拡張を
追加した)，VAX C適合モード，コモンC(pcc)適合モード) で操作できます。VAX Cモー
ドとコモンCモードは，他の環境から移植しやすくするための機能をいくつも備えてい
ます。

他のコンパイラ用にCで書かれた多くのプログラムは日本語DEC Cの下で正しく再コン
パイルできますが，その中には適合性のないものもあります。

DEC Cランタイム・ライブラリには，275を超えるUNIX[R]適合ルーチンがあります。こ
のライブラリ内のルーチンは，主にOpenVMS VAXの下で合理的にエミュレートできるも
のを選んであります。UNIXとOpenVMS VAXとでは本質的にアーキテクチャが異なるた
め，UNIX環境用に作成されたCプログラムを変更しないでコンパイルしたり，実行した
りすることはできません。機械依存性の高い機能やUNIX固有の機能を使用しているプ
ログラムの場合，多少の変換は必要となります。

1.3  Cアプリケーション用ランタイム・ライブラリ

DEC Cランタイム・ライブラリは，OpenVMS VAXオペレーティング・システムから供給
されます。このライブラリは，入出力，文字や文字列の処理，数値計算，メモリ割付
け，指定したUNIX機能のエミュレートを実行するための共有可能ルーチンを提供しま
す。

1.4  ランタイム・ライブラリの再配布

日本語DEC Cキットには，日本語DEC Cコンパイラで開発されたプログラム，およびサ
ポートされるOpenVMS VAXシステム構成のクラス・ライブラリを実行するのに必要な
すべてのランタイム・コンポーネントを個々にパッケージングしたセーブセットを含
んでいます。DEC社は，AACRTVAXE02060.A (RTL)という名前の日本語DEC Cキットのう
ちセーブセット部分をユーザが再生成および配布できるような開放，かつ世界共通の
権利を承認しています。ただし，その際ユーザは次のことを厳守しなくてはなりませ
ん。

o  すべてのRTLセーブセットおよび付属のマニュアルを配布する。

o  OpenVMS VAX環境で操作するように設計されたユーザ独自のソフトウェア・アプリ
   ケーション製品といっしょに，またはその一部としてのみRTLを配布する。

                                       4

 


日本語DEC C Version4.0 for OpenVMS VAX                           SPD 53.90.00
ソフトウェア仕様書


o  独自に開発したソフトウェア・アプリケーション製品を販売する際の戦略として
   DEC社の名前，ロゴ，または商標のいずれをも利用しない。

o  独自に開発したソフトウェア・アプリケーション製品のディスク・ラベル上に，お
   よび(または)タイトル・ページに日本語DEC CがDEC社の商標であることを明記す
   る。

o  保証に同意し，DEC社に迷惑をかけず，ユーザ独自に開発したソフトウェア・アプ
   リケーション製品の使用または配布により発生するいかなる損害賠償の請求または
   訴訟に関する金銭トラブル(弁護士への謝礼金を含む)をも起こさない。

2  必要なハードウェア

2.1  適用プロセッサ

VAX:       VAX 4000モデル200,
           VAX 4000モデル300,
           VAX 4000モデル500,
           VAX 4000モデル600

           VAX 6000モデル200シリーズ,
           VAX 6000モデル300シリーズ,
           VAX 6000モデル400シリーズ,
           VAX 6000モデル500シリーズ,
           VAX 6000モデル600シリーズ

           VAX 8200, VAX 8250, VAX 8300,
           VAX 8350, VAX 8500, VAX 8530,
           VAX 8550, VAX 8600, VAX 8650,
           VAX 8700, VAX 8800, VAX 8810,
           VAX 8820, VAX 8830, VAX 8840

           VAX 9000モデル110,
           VAX 9000モデル210,
           VAX 9000モデル300シリーズ,
           VAX 9000モデル400シリーズ



                                       5

 


 日本語DEC C Version4.0 for OpenVMS VAX                           SPD 53.90.00
 ソフトウェア仕様書




           VAX-11/730, VAX-11/750, VAX-11/780, VAX-11/785

           VAXftモデル110,
           VAXftモデル310,
           VAXftモデル410,
           VAXftモデル610,
           VAXftモデル612

MicroVAX:  MicroVAX II, MicroVAX 2000,
           MicroVAX 3100モデル10/10E,
           MicroVAX 3100モデル20/20E,
           MicroVAX 3100モデル30,
           MicroVAX 3100モデル40,
           MicroVAX 3100モデル80,
           MicroVAX 3300, MicroVAX 3400,
           MicroVAX 3500, MicroVAX 3600,
           MicroVAX 3800, MicroVAX 3900

VAXstation:VAXstation II, VAXstation 2000,
           VAXstation 3100モデル30,
           VAXstation 3100モデル38,
           VAXstation 3100モデル40,
           VAXstation 3100モデル48,
           VAXstation 3100モデル76,
           VAXstation 3200, VAXstation 3500,
           VAXstation 3520, VAXstation 3540
           VAXstation 4000モデル60,
           VAXstation 4000 VLC

VAXserver: VAXserver 3100, VAXserver 3300,
           VAXserver 3400, VAXserver 3500,
           VAXserver 3600, VAXserver 3602,
           VAXserver 3800, VAXserver 3900




                                       6

 


日本語DEC C Version4.0 for OpenVMS VAX                           SPD 53.90.00
ソフトウェア仕様書



           VAXserver 4000モデル200,
           VAXserver 4000モデル300,
           VAXserver 4000モデル500
           VAXserver 6000モデル210,
           VAXserver 6000モデル220,
           VAXserver 6000モデル310,
           VAXserver 6000モデル320,
           VAXserver 6000モデル410,
           VAXserver 6000モデル420,
           VAXserver 6000モデル510,
           VAXserver 6000モデル520,
           VAXserver 6000モデル610,
           VAXserver 6000モデル620,
           VAXserver 6000モデル630


2.2  適用されないプロセッサ

MicroVAX I，VAXstation I，VAX-11/725，
VAX-11/782，VAXstation 8000

必要なディスク容量(Block Cluster Size=1の場合)

インストール時:         30,000ブロック
                        (15.4 Mバイト)
システム運用時:         25,000ブロック
                        (12.8 Mバイト)

これらのディスク容量は，システム・ディスク上で必要となるディスク領域を表した
ものであり，概数です。実際の値は，システムの環境，構成，ソフトウェア・オプシ
ョンに応じて異なります。

2.3  DECwindowsを実行するのに必要なメモリ

同一システム上にクライアント/サーバ構成をもつスタンドアロンDECwindows環境にお
いてこのアプリケーションを実行するのに必要な最小メモリは，8 Mバイトです。


                                       7

 


 日本語DEC C Version4.0 for OpenVMS VAX                           SPD 53.90.00
 ソフトウェア仕様書


3  オプション・ハードウェア

OpenVMS VAXシステムでは，日本語DEC Cで記述されたプログラムにD浮動小数点型，F
浮動小数点型，およびG浮動小数点型のデータのみ使用できます。ただし，H浮動小数
点型のデータは使用できません。浮動小数点を頻繁に用いたアプリケーションは，使
用された浮動小数点型をサポートする適切なハードウェア構成に基づいて実行されな
くてはなりません。適切な浮動小数点アクセラレータ，またはユーザのシステム構成
に適した他の浮動小数点ハードウェアについては，『OpenVMS VAX Operating System
Software Product Description』(SPD 25.01.xx)をお読みください。

4  クラスタ環境

本レイヤード製品は，正規のライセンスをもつVAXcluster構成*の上にインストールさ
れている場合，機能上の制限は受けません。本ソフトウェアで必要とされるハードウ
ェアについては，本書の第2節の最小構成の項に記述されているとおりです。

*    バージョン5.xのVAXcluster構成については『VAXcluster Software Product
     Description』(SPD 29.78.xx)に詳しく説明されています。また，この構成には
     CI，Ethernet，およびMixed Interconnect構成が含まれます。

5  必要なソフトウェア

o  OpenVMSオペレーティング・システムV5.5〜6.1

本レイヤード製品の全機能を得るには，次のOpenVMS構成要素が必要となります。

o  OpenVMS Required Saveset

o  Programming Support

o  Utilities

OpenVMSクラスおよびテーラリングについては，
『OpenVMS VAX Operating System Software Product Description』(SPD 25.01.xx)お
よび『日本語OpenVMS VAXオペレーティング・システム・ソフトウェア仕様書』(SPD
25.C4.xx)を参照してください。



                                       8

 


日本語DEC C Version4.0 for OpenVMS VAX                           SPD 53.90.00
ソフトウェア仕様書


6  オプション・ソフトウェア

次の製品のバージョンは，オペレーティング・システムのバージョンにより異なりま
す。詳細については，その製品のソフトウェア仕様書を参照してください。

o  DEC Language-Sensitive Editor/Source Code Analyzer V4.0〜4.2 for OpenVMS
   VAX Systems

o  DEC CDD/Repository Version 5.3 for OpenVMS VAX Systems

7  バージョンアップの考慮

本製品の将来のバージョンでは，必要なハードウェアおよびソフトウェアの最小構成
が変更されることがあります。

8  提供媒体

テー     9トラック1600 BPI磁気テープ
プ:      TK50ストリーム・テープ

9  注文情報

最寄りの日本DECの各支店/営業所にお問い合わせください。

10  ソフトウェア・ライセンス

本ソフトウェアは日本DECの標準販売約款中のライセンス規定に基づいて提供されま
す。日本DECのライセンス条件とその方針についての詳細は，最寄りの日本DECの各支
店/営業所にお問い合わせください。

本製品はOpenVMSライセンス管理機能(LMF)をサポートしています。

ライセンス単位には無制限ユーザ・システム，パーソナル・ユース，およびコンカレ
ント・ユースがあります。

コンカレント・ユースでは，規定された人数内で同時にだれでも利用できます。パー
ソナル・ユースでは，登録された1人のみが利用できます。


                                       9

 


 日本語DEC C Version4.0 for OpenVMS VAX                           SPD 53.90.00
 ソフトウェア仕様書


ライセンス管理機能についての詳細は，『OpenVMS VAX Operating System Software
Product Description』(SPD 25.01.xx)またはOpenVMSオペレーティング・システムの
ドキュメント・セット中の『License Management Facility』を参照してください。


11  ソフトウェア製品サービス

日本DECでは，様々なサービス・オプションを提供しています。詳細については，最寄
りの日本DEC各支店/営業所にお問い合わせください。

12  ソフトウェア保証

本ソフトウェアについては，日本DEC所定のソフトウェア保証基準に定められた保証が
提供されます。





















_______________________
  [R] UNIXはX/Openカンパニーリミテッドがライセンスしている米国ならびに他の国に

      おける登録商標です。

                                      10
